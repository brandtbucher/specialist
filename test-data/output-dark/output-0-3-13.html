<!doctype html><html><head><meta http-equiv='content-type' content='text/html;charset=utf-8'/></head><body style='background-color:black;color:white'><pre>def encode_decode(key: str, text: str) -&gt; str:
    out = []
    <span style='color:#fed4d4'>for </span><span style='color:#ffffb6'>i</span><span style='color:#ffffb0'>, t</span><span style='color:#fed4d4'> in </span><span style='color:#dafe91'>enumerate</span><span style='color:#ffffb0'>(</span><span style='color:#ffffb6'>text</span><span style='color:#ffffb0'>)</span><span style='color:#fed4d4'>:</span>
        <span style='color:#ffd7d7'>k</span><span style='color:#fed4d4'> = </span><span style='color:#ffffb6'>key</span><span style='color:#ffffb0'>[</span><span style='color:#ffffb6'>i % </span><span style='color:#bfff7f'>len</span><span style='color:#dcff99'>(</span><span style='color:#dfff9f'>key</span><span style='color:#dcff99'>)</span><span style='color:#ffffb0'>]</span>
        <span style='color:#c3ff86'>out</span><span style='color:#bfff7f'>.append</span><span style='color:#dcff99'>(</span><span style='color:#a5ff69'>chr</span><span style='color:#bfff7f'>(</span><span style='color:#93fe5d'>ord</span><span style='color:#a9ff71'>(</span><span style='color:#aeff78'>t</span><span style='color:#a9ff71'>)</span><span style='color:#c3ff86'> ^ </span><span style='color:#93fe5d'>ord</span><span style='color:#a9ff71'>(</span><span style='color:#aeff78'>k</span><span style='color:#a9ff71'>)</span><span style='color:#bfff7f'>)</span><span style='color:#dcff99'>)</span>
    return <span style='color:#aaffaa'>&quot;&quot;</span><span style='color:#a2ffa2'>.join</span><span style='color:#ccfecc'>(</span><span style='color:#d0ffd0'>out</span><span style='color:#ccfecc'>)</span>

if __name__ == &quot;__main__&quot;:
    key = &quot;Spam&quot;
    text = &quot;Hello, world!&quot;
    encoded = encode_decode(key, text)
    decoded = encode_decode(key, encoded)
    assert decoded == text
</pre></body></html>