<!doctype html><html><head><meta http-equiv='content-type' content='text/html;charset=utf-8'/></head><body style='background-color:black;color:white'><pre>def encode_decode(key: str, text: str) -&gt; str:
    out = []
    for <span style='color:#a2a2ff'>i</span><span style='color:#ccccfe'>, </span><span style='color:#a2a2ff'>t</span> in <span style='color:#7f7fff'>enumerate</span><span style='color:#a2a2ff'>(</span><span style='color:#aaaaff'>text</span><span style='color:#a2a2ff'>)</span>:
        <span style='color:#ccccfe'>k</span> = <span style='color:#ffa2fe'>key</span><span style='color:#fecccc'>[</span><span style='color:#ffaaff'>i</span><span style='color:#ffd0d0'> % </span><span style='color:#b66dff'>len</span><span style='color:#d789fe'>(</span><span style='color:#da91fe'>key</span><span style='color:#d789fe'>)</span><span style='color:#fecccc'>]</span>
        <span style='color:#3232ff'>out</span><span style='color:#4848fe'>.append</span><span style='color:#6262ff'>(</span><span style='color:#1f1fff'>chr</span><span style='color:#3232ff'>(</span><span style='color:#0d0dfe'>ord</span><span style='color:#1c1cff'>(</span><span style='color:#2828ff'>t</span><span style='color:#1c1cff'>)</span><span style='color:#3f3fff'> ^ </span><span style='color:#0d0dfe'>ord</span><span style='color:#1c1cff'>(</span><span style='color:#2828ff'>k</span><span style='color:#1c1cff'>)</span><span style='color:#3232ff'>)</span><span style='color:#6262ff'>)</span>
    return <span style='color:#7f7fff'>&quot;&quot;</span><span style='color:#7373ff'>.join</span><span style='color:#9999ff'>(</span><span style='color:#a2a2ff'>out</span><span style='color:#9999ff'>)</span>

if __name__ == &quot;__main__&quot;:
    key = &quot;Spam&quot;
    text = &quot;Hello, world!&quot;
    encoded = encode_decode(key, text)
    decoded = encode_decode(key, encoded)
    assert decoded == text
</pre></body></html>