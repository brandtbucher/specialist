<!doctype html><html><head><meta http-equiv='content-type' content='text/html;charset=utf-8'/></head><body style='background-color:white;color:black'><pre>def encode_decode(key: str, text: str) -&gt; str:
    out = []
    for <span style='background-color:#ffa2fe'>i</span><span style='background-color:#fecccc'>, </span><span style='background-color:#ffa2fe'>t</span> in <span style='background-color:#ff7f7f'>enumerate</span><span style='background-color:#ffa2a2'>(</span><span style='background-color:#ffaaaa'>text</span><span style='background-color:#ffa2a2'>)</span>:
        <span style='background-color:#ccccfe'>k</span> = <span style='background-color:#ffa2fe'>key</span><span style='background-color:#fecccc'>[</span><span style='background-color:#ff7fd4'>i</span><span style='background-color:#ffa2a2'> % </span><span style='background-color:#fe4848'>len</span><span style='background-color:#ff6262'>(</span><span style='background-color:#ff6d6d'>key</span><span style='background-color:#ff6262'>)</span><span style='background-color:#fecccc'>]</span>
        <span style='background-color:#fe55dc'>out</span><span style='background-color:#ff6db6'>.append</span><span style='background-color:#fe89d7'>(</span><span style='background-color:#ff3f7f'>chr</span><span style='background-color:#fe5598'>(</span><span style='background-color:#fe0d43'>ord</span><span style='background-color:#ff1c54'>(</span><span style='background-color:#ff285d'>t</span><span style='background-color:#ff1c54'>)</span><span style='background-color:#ff3f7f'> ^ </span><span style='background-color:#fe0d43'>ord</span><span style='background-color:#ff1c54'>(</span><span style='background-color:#ff285d'>k</span><span style='background-color:#ff1c54'>)</span><span style='background-color:#fe5598'>)</span><span style='background-color:#fe89d7'>)</span>
    return <span style='background-color:#ff7f7f'>&quot;&quot;</span><span style='background-color:#ff7373'>.join</span><span style='background-color:#ff9999'>(</span><span style='background-color:#ffa2a2'>out</span><span style='background-color:#ff9999'>)</span>

if __name__ == &quot;__main__&quot;:
    key = &quot;Spam&quot;
    text = &quot;Hello, world!&quot;
    encoded = encode_decode(key, text)
    decoded = encode_decode(key, encoded)
    assert decoded == text
</pre></body></html>